schema: '2.0'
stages:
  preprocess:
    cmd: python -m src.preprocessing
    deps:
    - path: config/paths.py
      hash: md5
      md5: 03611919621942b89b2356fa426fc38d
      size: 487
    - path: config/settings.yaml
      hash: md5
      md5: 2636a6faf9a4cb3ec7203772ed41323b
      size: 685
    - path: data/raw
      hash: md5
      md5: 2697c9d6e3006dd2872ac4618b68ca9a.dir
      size: 2831321187
      nfiles: 12
    - path: src/preprocessing.py
      hash: md5
      md5: 346437c74773455826f52c66e8587495
      size: 2473
    - path: utils/config_loader.py
      hash: md5
      md5: 11c0967c9b586b99d2f2abd60cc3f22e
      size: 211
    - path: utils/data_processing.py
      hash: md5
      md5: 116d8cd10b431f7119f9de3f419560c3
      size: 2809
    - path: utils/files_management.py
      hash: md5
      md5: ac71a524363d9a9dd7e788966c667148
      size: 4656
    outs:
    - path: artifacts/valid_movies.pkl
      hash: md5
      md5: d042acafee63a826f0b0985616b1c421
      size: 130688
    - path: artifacts/valid_users.pkl
      hash: md5
      md5: 8fd8c5fe14e5833a698b761f3e376eca
      size: 4444262
    - path: data/processed/processed_data.parquet
      hash: md5
      md5: 0a80eecfd66a060d49d184126f62cb03
      size: 1280135175
  train:
    cmd: python -m src.training
    deps:
    - path: config/best_params.yaml
      hash: md5
      md5: b65a2734ba4cd4b2938e62c60fff4213
      size: 88
    - path: config/paths.py
      hash: md5
      md5: 03611919621942b89b2356fa426fc38d
      size: 487
    - path: config/settings.yaml
      hash: md5
      md5: 2636a6faf9a4cb3ec7203772ed41323b
      size: 685
    - path: data/processed/processed_data.parquet
      hash: md5
      md5: 0a80eecfd66a060d49d184126f62cb03
      size: 1280135175
    - path: src/training.py
      hash: md5
      md5: 04960b3cc876d82b4499ee41cbe84b7e
      size: 6071
    - path: utils/config_loader.py
      hash: md5
      md5: 11c0967c9b586b99d2f2abd60cc3f22e
      size: 211
    - path: utils/data_split.py
      hash: md5
      md5: ddeb1242f7f66f91640a4b6ff44be88e
      size: 387
    - path: utils/metrics.py
      hash: md5
      md5: fa51eebb444dbb1131695aba78c0fa10
      size: 2164
    outs:
    - path: models/svd_model.pkl
      hash: md5
      md5: 86c9bbe1f1e32bb541995a2d19ed5b92
      size: 845474615
  predict:
    cmd: python -m src.predictions
    deps:
    - path: artifacts/valid_movies.pkl
      hash: md5
      md5: d042acafee63a826f0b0985616b1c421
      size: 130688
    - path: artifacts/valid_users.pkl
      hash: md5
      md5: 8fd8c5fe14e5833a698b761f3e376eca
      size: 4444262
    - path: config/paths.py
      hash: md5
      md5: 03611919621942b89b2356fa426fc38d
      size: 487
    - path: data/raw/movie_titles_fixed.csv
      hash: md5
      md5: 457e476ab9f60c6b469111384dd5ba6a
      size: 577547
    - path: data/raw/qualifying.txt
      hash: md5
      md5: 88be8340ad7b3c31dfd7b6f87e7b9022
      size: 52452386
    - path: models/svd_model.pkl
      hash: md5
      md5: 86c9bbe1f1e32bb541995a2d19ed5b92
      size: 845474615
    - path: src/predictions.py
      hash: md5
      md5: f1b0ca2873e13677b89e009485d56842
      size: 2981
    - path: utils/data_processing.py
      hash: md5
      md5: 116d8cd10b431f7119f9de3f419560c3
      size: 2809
    - path: utils/files_management.py
      hash: md5
      md5: ac71a524363d9a9dd7e788966c667148
      size: 4656
    outs:
    - path: data/final/predictions.csv
      hash: md5
      md5: f696c5ed2b39526a672f20489683b131
      size: 201457219
