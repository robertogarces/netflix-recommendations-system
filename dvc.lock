schema: '2.0'
stages:
  preprocess:
    cmd: python -m src.preprocessing
    deps:
    - path: config/paths.py
      hash: md5
      md5: 03611919621942b89b2356fa426fc38d
      size: 487
    - path: config/settings.yaml
      hash: md5
      md5: fbf8d3b005ee1b84891209087fdd42b6
      size: 684
    - path: data/raw
      hash: md5
      md5: 2697c9d6e3006dd2872ac4618b68ca9a.dir
      size: 2831321187
      nfiles: 12
    - path: src/preprocessing.py
      hash: md5
      md5: 346437c74773455826f52c66e8587495
      size: 2473
    - path: utils/config_loader.py
      hash: md5
      md5: 11c0967c9b586b99d2f2abd60cc3f22e
      size: 211
    - path: utils/data_processing.py
      hash: md5
      md5: 116d8cd10b431f7119f9de3f419560c3
      size: 2809
    - path: utils/files_management.py
      hash: md5
      md5: ac71a524363d9a9dd7e788966c667148
      size: 4656
    outs:
    - path: artifacts/valid_movies.pkl
      hash: md5
      md5: d9655d1cb19b8855d9026f11aa0b4e81
      size: 130688
    - path: artifacts/valid_users.pkl
      hash: md5
      md5: 9b4725fe26b42852c4cc57b93b5498ac
      size: 4444262
    - path: data/processed/processed_data.parquet
      hash: md5
      md5: 0a80eecfd66a060d49d184126f62cb03
      size: 1280135175
  train:
    cmd: python -m src.training
    deps:
    - path: config/best_params.yaml
      hash: md5
      md5: b65a2734ba4cd4b2938e62c60fff4213
      size: 88
    - path: config/paths.py
      hash: md5
      md5: 03611919621942b89b2356fa426fc38d
      size: 487
    - path: config/settings.yaml
      hash: md5
      md5: fbf8d3b005ee1b84891209087fdd42b6
      size: 684
    - path: data/processed/processed_data.parquet
      hash: md5
      md5: 0a80eecfd66a060d49d184126f62cb03
      size: 1280135175
    - path: src/training.py
      hash: md5
      md5: cc0002628ea2f8e76be8215f94d2d63b
      size: 5304
    - path: utils/config_loader.py
      hash: md5
      md5: 11c0967c9b586b99d2f2abd60cc3f22e
      size: 211
    - path: utils/data_split.py
      hash: md5
      md5: ddeb1242f7f66f91640a4b6ff44be88e
      size: 387
    - path: utils/metrics.py
      hash: md5
      md5: fa51eebb444dbb1131695aba78c0fa10
      size: 2164
    outs:
    - path: models/svd_model.pkl
      hash: md5
      md5: 87dc1c61004a162ef79c1f22e7607513
      size: 486251570
  predict:
    cmd: python -m src.predictions
    deps:
    - path: artifacts/valid_movies.pkl
      hash: md5
      md5: d9655d1cb19b8855d9026f11aa0b4e81
      size: 130688
    - path: artifacts/valid_users.pkl
      hash: md5
      md5: 9b4725fe26b42852c4cc57b93b5498ac
      size: 4444262
    - path: config/paths.py
      hash: md5
      md5: 03611919621942b89b2356fa426fc38d
      size: 487
    - path: data/raw/movie_titles_fixed.csv
      hash: md5
      md5: 457e476ab9f60c6b469111384dd5ba6a
      size: 577547
    - path: data/raw/qualifying.txt
      hash: md5
      md5: 88be8340ad7b3c31dfd7b6f87e7b9022
      size: 52452386
    - path: models/svd_model.pkl
      hash: md5
      md5: 87dc1c61004a162ef79c1f22e7607513
      size: 486251570
    - path: src/predictions.py
      hash: md5
      md5: 81bde13cc27916b43c31f94b3e8cda1c
      size: 2946
    - path: utils/data_processing.py
      hash: md5
      md5: 116d8cd10b431f7119f9de3f419560c3
      size: 2809
    - path: utils/files_management.py
      hash: md5
      md5: ac71a524363d9a9dd7e788966c667148
      size: 4656
    outs:
    - path: data/final/predictions.csv
      hash: md5
      md5: 5af65f7984fca27736cc59ff2e79c91b
      size: 201574838
